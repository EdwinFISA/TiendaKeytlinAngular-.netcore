<div class="p-4">
  <!-- Filtros -->
  <div class="flex flex-wrap gap-4 mb-4">
    <div class="flex border rounded-md p-2">
      <input type="text"
             placeholder="Buscar usuario"
             class="outline-none px-2"
             [(ngModel)]="filtroUsuario" />
      <button (click)="buscarUsuario()" class="ml-2 text-blue-500">
        🔍
      </button>
    </div>

    <div class="flex gap-2">
      <input type="date"
             class="border rounded-md p-2"
             [(ngModel)]="fechaInicio" />
      <input type="date"
             class="border rounded-md p-2"
             [(ngModel)]="fechaFin" />
      <button (click)="filtrarPorFecha()"
              class="bg-blue-700 text-white px-4 py-2 rounded-md">
        Generar
      </button>
    </div>
  </div>

  <!-- Botón Crear Usuario -->
  <button class="bg-black text-white px-4 py-2 rounded-md mb-4"
          (click)="crearUsuario()">
    Crear usuario
  </button>

  <!-- Tabla de Usuarios -->
  <div class="overflow-x-auto">
    <table class="w-full border-collapse border border-gray-300">
      <thead>
        <tr class="bg-gray-200">
          <th class="border p-2">ID</th>
          <th class="border p-2">Nombre de Usuario</th>
          <th class="border p-2">Nombres</th>
          <th class="border p-2">Apellidos</th>
          <th class="border p-2">Rol</th>
          <th class="border p-2">Estado</th>
          <th class="border p-2">Fecha Creación</th>
          <th class="border p-2">Perfil</th>
          <th class="border p-2">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let usuario of usuariosPaginados(); let i = index"
            class="hover:bg-gray-100">
          <td class="border p-2">{{ usuario.id }}</td>
          <td class="border p-2">{{ usuario.username }}</td>
          <td class="border p-2">{{ usuario.nombres }}</td>
          <td class="border p-2">{{ usuario.apellidos }}</td>
          <td class="border p-2">{{ usuario.rol }}</td>
          <td class="border p-2">{{ usuario.estado }}</td>
          <td class="border p-2">{{ usuario.fechaCreacion }}</td>
          <td class="border p-2">
            <img [src]="usuario.foto" class="h-10 w-10 rounded-full" />
          </td>
          <td class="border p-2 flex justify-center space-x-2">
            <button class="text-blue-500" (click)="verUsuario(usuario)">
              👁️
            </button>
            <button class="text-green-500" (click)="editarUsuario(usuario)">
              ✏️
            </button>
            <button class="text-red-500" (click)="eliminarUsuario(usuario.id)">
              ❌
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Paginación -->
  <div class="flex justify-between items-center mt-4">
    <button class="px-4 py-2 bg-blue-700 text-white rounded-md"
            [disabled]="paginaActual === 1"
            (click)="paginaAnterior()">
      Anterior
    </button>

    <span>Página {{ paginaActual }}</span>

    <button class="px-4 py-2 bg-blue-700 text-white rounded-md"
            [disabled]="paginaActual === totalPaginas()"
            (click)="paginaSiguiente()">
      Siguiente
    </button>
  </div>
</div>
